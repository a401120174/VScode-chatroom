{"version":3,"sources":["components/TextInput/TextInput.module.scss","components/AsideBar/AsideBar.module.scss","components/TabBar/TabBar.module.scss","components/Content/Content.module.scss","containers/App/App.module.scss","containers/Main/Main.module.scss","components/UserOnlineBar/UserOnlineBar.module.scss","serviceWorker.js","reducers/mainReducer.js","firestoreConfig.js","firestoreFunction.js","actions/mainAction.js","components/PopContent/PopContent.js","containers/Popup/Popup.js","static/char_icon.svg","components/AsideBar/AsideBar.js","containers/Aside/Aside.js","components/Content/Content.js","components/TextInput/TextInput.js","components/TabBar/TabBar.js","components/UserOnlineBar/UserOnlineBar.js","containers/Main/Main.js","containers/App/App.js","index.js","components/PopContent/PopContent.module.scss"],"names":["module","exports","Boolean","window","location","hostname","match","initstate","toggle","roomss","isConnected","userName","msg","currentMsg","popup","chatRooms","currentRoom","tabs","roomNameInput","loading","test","formatTime","time","hour","getHours","minute","getMinutes","todo","state","action","type","rooms","formatedMsg","dateObj","timeStamp","toDate","dateToShow","isAll","isAdd","id","onlineUser","count","room","name","roomParam","includes","closeIdx","indexOf","tab","slice","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getChatMsg","chatRoom","callback","firebase","firestore","collection","doc","onSnapshot","ref","docChanges","forEach","change","data","getChatRooms","firebaseConnected","updateMsg","setLoading","resetMsgs","changeMsg","setId","openPopup","setChatRooms","changeCurrentRoom","PopContent","openIdSetPop","onChangeId","onChangeRoomName","creatNewRoom","closePopup","className","styles","cover","hide","onClick","contentBox","idType","someWord","btnBox","idSet","title","value","onChange","placeholder","confirm","content","Popup","dispatch","useDispatch","useSelector","random","Math","floor","e","target","trim","roomName","set","then","docRef","catch","error","console","currentTarget","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","d","_ref","svgRef","props","width","height","viewBox","ForwardRef","forwardRef","AsideBar","creatRoom","aside","subTitle","roomList","map","idx","to","addBtnBox","Aside","sortNumber","a","b","Date","getTime","MsgBox","isSelf","msgBox","rightBox","msgTag","AlertText","text","alert","blue","sky","orange","React","memo","msgs","sort","msgEle","wrapper","scrollArea","cuteTexts","CuteText","cute","item","TextInput","onSubmit","onChangeMsg","onAddCute","user","inputEl","useRef","submitEl","useState","isTyping","setIsTyping","isCuteOpen","setCuteOpen","useEffect","current","focus","box","animation","textInput","onFocus","onBlur","cuteBtn","submit","TabBar","active","onClose","closeBtn","stopPropagation","UserOnlineBar","Main","ele","document","querySelector","scrollTop","scrollHeight","rightPart","preventDefault","postData","add","App","unSubscribeMsg","useParams","initializeApp","log","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","toggleReducer","ReactDOM","render","his","path","exact","children","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.de96ddfb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"TextInput_box__ZdDqx\",\"textInput\":\"TextInput_textInput__30LPe\",\"submit\":\"TextInput_submit__2UTqV\",\"animation\":\"TextInput_animation__1xKud\",\"shiny\":\"TextInput_shiny__5lEO-\",\"cuteBtn\":\"TextInput_cuteBtn__34lOo\",\"cute\":\"TextInput_cute__2aTek\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"AsideBar_aside__2_xdu\",\"title\":\"AsideBar_title__3Bqqb\",\"subTitle\":\"AsideBar_subTitle__2fV7Y\",\"roomList\":\"AsideBar_roomList__v2A5R\",\"addBtnBox\":\"AsideBar_addBtnBox__2XsaR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TabBar_wrapper__3LCso\",\"active\":\"TabBar_active__2sP2_\",\"closeBtn\":\"TabBar_closeBtn__rQQpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Content_wrapper__78V2p\",\"msgBox\":\"Content_msgBox__1maU8\",\"time\":\"Content_time__8cSyA\",\"msgTag\":\"Content_msgTag__cpXxb\",\"content\":\"Content_content__1uhUL\",\"isSelf\":\"Content_isSelf__TsQUt\",\"rightBox\":\"Content_rightBox__20oiM\",\"alert\":\"Content_alert__3G9C3\",\"blue\":\"Content_blue__TDwD9\",\"sky\":\"Content_sky__2yULu\",\"orange\":\"Content_orange__2TDds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__37HFC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rightPart\":\"Main_rightPart__PSryN\",\"idType\":\"Main_idType__5kO5B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"UserOnlineBar_box__2hj_D\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initstate = {\n  toggle: true,\n  roomss: [],\n  isConnected: false,\n  userName: \"\",\n  msg: [],\n  currentMsg: \"\",\n  popup: \"SET_ID_TYPE\",\n  chatRooms: [],\n  currentRoom: \"大廳\",\n  tabs: [\"大廳\"],\n  roomNameInput: \"\",\n  loading: true,\n  test: \"\"\n};\n\nconst formatTime = time => {\n  const hour = time.getHours();\n  const needToFull = time.getMinutes() < 10;\n  const minute = needToFull ? `0${time.getMinutes()}` : time.getMinutes();\n  return `${hour}:${minute}`;\n};\n\nconst todo = (state = initstate, action) => {\n  switch (action.type) {\n    case \"TOGGLE\":\n      return { ...state, toggle: !state.toggle };\n    case \"ROOM_FETCH_SUCCEEDED\":\n      return { ...state, rooms: action.rooms };\n    case \"FIREBASE_CONNECTED\":\n      return { ...state, isConnected: action.isConnected };\n    case \"UPDATE_MSG\":\n      const formatedMsg = {\n        ...action.msg,\n        dateObj: action.msg.timeStamp.toDate(),\n        dateToShow: formatTime(action.msg.timeStamp.toDate())\n      };\n\n      if (action.isAll) {\n        return { ...state, msg: [...formatedMsg] };\n      } else {\n        return { ...state, msg: [...state.msg, formatedMsg] };\n      }\n    case \"CHANGE_MSG\":\n      return {\n        ...state,\n        currentMsg: action.isAdd ? state.currentMsg + action.msg : action.msg\n      };\n    case \"SET_ID\":\n      return { ...state, userName: action.id };\n    case \"OPEN_POPUP\":\n      return { ...state, popup: action.popup };\n    case \"UPDATE_ONLINE_USER\":\n      return { ...state, onlineUser: action.count };\n    case \"SET_CHAT_ROOMS\":\n      if (action.room.name === action.roomParam) {\n        return {\n          ...state,\n          chatRooms: [...state.chatRooms, action.room],\n          currentRoom: action.roomParam,\n          tabs: state.tabs.includes(action.roomParam)\n            ? state.tabs\n            : [...state.tabs, action.roomParam]\n        };\n      } else {\n        return { ...state, chatRooms: [...state.chatRooms, action.room] };\n      }\n    case \"CHANGE_CURRENT_ROOM\":\n      // console.log(state.chatRooms);\n      // if (!state.chatRooms.includes(action.room)) {\n      //   return { ...state, currentRoom: \"大廳\" };\n      // }\n      if (state.tabs.includes(action.room)) {\n        return { ...state, currentRoom: action.room };\n      } else {\n        return {\n          ...state,\n          currentRoom: action.room,\n          tabs: [...state.tabs, action.room]\n        };\n      }\n    case \"CLOSE_TAB\":\n      const closeIdx = state.tabs.indexOf(action.tab);\n      return {\n        ...state,\n        currentRoom:\n          state.currentRoom === action.tab\n            ? state.tabs[closeIdx - 1]\n            : state.currentRoom,\n        tabs: [\n          ...state.tabs.slice(0, closeIdx),\n          ...state.tabs.slice(closeIdx + 1)\n        ]\n      };\n    case \"RESET_MSGS\":\n      return { ...state, msg: [] };\n    case \"SET_ROOM_NAME\":\n      return { ...state, roomNameInput: action.name };\n    case \"SET_LOADING\":\n      return { ...state, loading: action.loading };\n\n    default:\n      return state;\n  }\n};\n\nexport default todo;\n","var config = {\n  apiKey: \"AIzaSyDZ-WE4xegOzuba568z1DXE9WAuLV0LhsE\",\n  authDomain: \"mychatroom-b5909.firebaseapp.com\",\n  databaseURL: \"https://mychatroom-b5909.firebaseio.com\",\n  projectId: \"mychatroom-b5909\",\n  storageBucket: \"mychatroom-b5909.appspot.com\",\n  messagingSenderId: \"620146762888\",\n  appId: \"1:620146762888:web:a2dcc475ab5d9187\"\n};\n\nexport default config;\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst getChatMsg = (chatRoom, callback) => {\n  const db = firebase.firestore();\n\n  return db\n    .collection(\"chatRoom\")\n    .doc(chatRoom)\n    .collection(\"messages\")\n    .onSnapshot(ref => {\n      ref.docChanges().forEach(change => {\n        // const { newIndex, oldIndex, doc, type } = change;\n        callback(change.doc.data());\n      });\n    });\n};\n\nconst getChatRooms = callback => {\n  const db = firebase.firestore();\n  return db.collection(\"chatRoom\").onSnapshot(ref => {\n    ref.docChanges().forEach(change => {\n      callback(change.doc.data());\n    });\n  });\n};\n\nconst sendMsg = (roomName, msg, callback) => {\n  const db = firebase.firestore();\n  db.collection(\"chatRoom\")\n    .doc(roomName)\n    .collection(\"messages\")\n    .add(msg)\n    .then(function(docRef) {\n      callback();\n    })\n    .catch(function(error) {\n      console.error(\"Error adding document: \", error);\n    });\n};\n\nconst creatRoom = (roomName, callback) => {\n  const db = firebase.firestore();\n  db.collection(\"chatRoom\")\n    .doc(roomName)\n    .set({\n      name: roomName\n    })\n    .then(function(docRef) {\n      callback();\n    })\n    .catch(function(error) {\n      console.error(\"Error adding document: \", error);\n    });\n};\n\nexport { getChatMsg, getChatRooms, sendMsg, creatRoom };\n","export const setToggle = toggle => {\n  return {\n    type: \"TOGGLE\",\n    toggle\n  };\n};\n\nexport const firebaseConnected = isConnected => {\n  return {\n    type: \"FIREBASE_CONNECTED\",\n    isConnected\n  };\n};\n\nexport const fectcRooms = () => {\n  return {\n    type: \"FETCH_ROOM_DATA\"\n  };\n};\n\nexport const firebaseInit = roomId => {\n  return {\n    type: \"FIREBASE_INIT\",\n    roomId\n  };\n};\n\nexport const updateMsg = (msg, isAll = false) => {\n  return {\n    type: \"UPDATE_MSG\",\n    msg,\n    isAll\n  };\n};\n\nexport const setLoading = loading => {\n  return {\n    type: \"SET_LOADING\",\n    loading\n  };\n};\n\nexport const resetMsgs = () => {\n  return {\n    type: \"RESET_MSGS\"\n  };\n};\n\nexport const changeMsg = (msg, isAdd = false) => {\n  return {\n    type: \"CHANGE_MSG\",\n    msg,\n    isAdd\n  };\n};\n\nexport const closeTab = tab => {\n  return {\n    type: \"CLOSE_TAB\",\n    tab\n  };\n};\n\nexport const setId = id => {\n  return {\n    type: \"SET_ID\",\n    id\n  };\n};\n\nexport const setRoomName = name => {\n  return {\n    type: \"SET_ROOM_NAME\",\n    name\n  };\n};\n\nexport const openPopup = popup => {\n  return {\n    type: \"OPEN_POPUP\",\n    popup\n  };\n};\n\nexport const updateOnlineUser = count => {\n  return {\n    type: \"UPDATE_ONLINE_USER\",\n    count\n  };\n};\n\nexport const setChatRooms = (room, roomParam) => {\n  return {\n    type: \"SET_CHAT_ROOMS\",\n    room,\n    roomParam\n  };\n};\n\nexport const changeCurrentRoom = room => {\n  return {\n    type: \"CHANGE_CURRENT_ROOM\",\n    room\n  };\n};\n","import React from \"react\";\nimport styles from \"./PopContent.module.scss\";\nimport PropTypes from \"prop-types\";\n\nconst PopContent = ({\n  popup,\n  userName,\n  roomNameInput,\n  setId,\n  openIdSetPop,\n  onChangeId,\n  onChangeRoomName,\n  creatNewRoom,\n  closePopup\n}) => {\n  const content = type => {\n    switch (type) {\n      case \"SET_ID_TYPE\":\n        return (\n          <div className={styles.idType}>\n            <div className={styles.someWord}>\n              <h2>聊天室2.0版上線啦(*ﾟ∀ﾟ*) </h2>\n              <br />\n              [new] 新增多聊天室功能\n              <br />\n              [new] 新增多種表情符號\n              <br />\n              歡迎大家找親朋好友來聊~\n            </div>\n            <div className={styles.btnBox}>\n              <div onClick={setId}>[匿名聊天]</div>\n              <div onClick={openIdSetPop}>[暱稱聊天]</div>\n            </div>\n          </div>\n        );\n      case \"SET_ID\":\n        return (\n          <div className={styles.idSet}>\n            <div className={styles.title}>暱稱聊天</div>\n            <input\n              value={userName}\n              onChange={onChangeId}\n              placeholder=\"輸入暱稱\"\n            />\n            <div onClick={setId} className={styles.confirm}>\n              [確定]\n            </div>\n          </div>\n        );\n      case \"CREAT_ROOM\":\n        return (\n          <div className={styles.idSet}>\n            <div className={styles.title}>創立聊天室</div>\n            <input\n              value={roomNameInput}\n              onChange={onChangeRoomName}\n              placeholder=\"輸入聊天室名稱\"\n            />\n            <div onClick={creatNewRoom} className={styles.confirm}>\n              [確定]\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div\n      className={`${styles.cover} ${!!popup ? \"\" : styles.hide}`}\n      onClick={closePopup}\n    >\n      <div className={styles.contentBox}>{content(popup)}</div>\n    </div>\n  );\n};\n\nPopContent.propTypes = {\n  popup: PropTypes.string,\n  userName: PropTypes.string,\n  roomNameInput: PropTypes.string,\n  setId: PropTypes.func,\n  openIdSetPop: PropTypes.func,\n  onChangeId: PropTypes.func,\n  onChangeRoomName: PropTypes.func,\n  creatNewRoom: PropTypes.func,\n  closePopup: PropTypes.func\n};\n\nexport default PopContent;\n","import React from \"react\";\nimport * as action from \"../../actions/mainAction\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { creatRoom } from \"../../firestoreFunction\";\nimport PopContent from \"../../components/PopContent/PopContent\";\n\nconst Popup = () => {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n\n  const closePopup = e => {\n    if (e.target !== e.currentTarget || state.popup !== \"CREAT_ROOM\") return;\n    dispatch(action.openPopup(\"\"));\n  };\n\n  const creatNewRoom = () => {\n    if (!state.roomNameInput) return;\n    creatRoom(state.roomNameInput, () => {\n      dispatch(action.changeCurrentRoom(state.roomNameInput));\n      dispatch(action.openPopup(\"\"));\n    });\n  };\n\n  const setId = () => {\n    const random = Math.floor(Math.random() * 1000);\n    dispatch(action.setId(state.userName || `訪客${random}號`));\n    dispatch(action.openPopup(\"\"));\n  };\n\n  const openIdSetPop = () => {\n    dispatch(action.openPopup(\"SET_ID\"));\n  };\n\n  const onChangeId = e => {\n    dispatch(action.setId(e.target.value.trim()));\n  };\n\n  const onChangeRoomName = e => {\n    dispatch(action.setRoomName(e.target.value.trim()));\n  };\n\n  return (\n    <PopContent\n      popup={state.popup}\n      userName={state.userName}\n      roomNameInput={state.roomNameInput}\n      setId={setId}\n      openIdSetPop={openIdSetPop}\n      onChangeId={onChangeId}\n      onChangeRoomName={onChangeRoomName}\n      creatNewRoom={creatNewRoom}\n      closePopup={closePopup}\n    />\n  );\n};\n\nexport default Popup;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".a{fill:#d4d4d4;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0 -18.271)\"\n}, React.createElement(\"g\", {\n  transform: \"translate(0 18.271)\"\n}, React.createElement(\"path\", {\n  className: \"a\",\n  d: \"M38.385,21.952a1.841,1.841,0,1,0-1.3-.539A1.773,1.773,0,0,0,38.385,21.952Z\",\n  transform: \"translate(-35.625 -18.271)\"\n}), React.createElement(\"path\", {\n  className: \"a\",\n  d: \"M165.258,96.076a2.76,2.76,0,1,0-.809-1.952A2.66,2.66,0,0,0,165.258,96.076Z\",\n  transform: \"translate(-160.308 -89.523)\"\n}), React.createElement(\"path\", {\n  className: \"a\",\n  d: \"M367.293,21.952a1.841,1.841,0,1,0-1.3-.539A1.773,1.773,0,0,0,367.293,21.952Z\",\n  transform: \"translate(-356.25 -18.271)\"\n}), React.createElement(\"path\", {\n  className: \"a\",\n  d: \"M382.232,164.456a1.376,1.376,0,0,0-.313.151,4.719,4.719,0,0,1-.7.306,2.525,2.525,0,0,1-.855.155,2.886,2.886,0,0,1-.956-.165,3.613,3.613,0,0,1,.036.474,3.164,3.164,0,0,1-.583,1.84,2.479,2.479,0,0,1,1.905.92h.963a1.648,1.648,0,0,0,.992-.291.985.985,0,0,0,.4-.852Q383.123,164.456,382.232,164.456Z\",\n  transform: \"translate(-369.32 -160.775)\"\n}), React.createElement(\"path\", {\n  className: \"a\",\n  d: \"M83.087,294.951a6.087,6.087,0,0,0-.191-.78,3.7,3.7,0,0,0-.309-.7,2.534,2.534,0,0,0-.446-.582,1.878,1.878,0,0,0-.615-.385,2.159,2.159,0,0,0-.8-.144.847.847,0,0,0-.309.155q-.237.154-.525.345a3.338,3.338,0,0,1-3.48,0q-.288-.19-.525-.345a.847.847,0,0,0-.309-.155,2.16,2.16,0,0,0-.8.144,1.875,1.875,0,0,0-.615.385,2.528,2.528,0,0,0-.446.582,3.7,3.7,0,0,0-.309.7,6.106,6.106,0,0,0-.191.78,7.309,7.309,0,0,0-.1.784q-.025.363-.025.744a1.791,1.791,0,0,0,.525,1.362,1.94,1.94,0,0,0,1.395.5h6.283a1.94,1.94,0,0,0,1.395-.5,1.791,1.791,0,0,0,.525-1.362q0-.381-.025-.744A7.435,7.435,0,0,0,83.087,294.951Z\",\n  transform: \"translate(-71.25 -285.457)\"\n}), React.createElement(\"path\", {\n  className: \"a\",\n  d: \"M4.263,167.216a3.165,3.165,0,0,1-.582-1.84,3.59,3.59,0,0,1,.036-.474,2.889,2.889,0,0,1-.956.165,2.524,2.524,0,0,1-.855-.155,4.725,4.725,0,0,1-.7-.306,1.372,1.372,0,0,0-.313-.151q-.891,0-.891,2.538a.985.985,0,0,0,.4.852,1.648,1.648,0,0,0,.992.291h.963A2.479,2.479,0,0,1,4.263,167.216Z\",\n  transform: \"translate(0 -160.774)\"\n})));\n\nvar SvgCharIcon = function SvgCharIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 13.803,\n    height: 12.883,\n    viewBox: \"0 0 13.803 12.883\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCharIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/char_icon.a85807ca.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport styles from \"./AsideBar.module.scss\";\nimport { ReactComponent as Logo } from \"../../static/char_icon.svg\";\n\nconst AsideBar = ({ creatRoom, chatRooms }) => {\n  return (\n    <aside className={styles.aside}>\n      <div className={styles.title}>\n        <h2>\n          <Logo />\n          <span>聊天室總管</span>\n        </h2>\n      </div>\n      <div className={styles.subTitle}>聊天室列表 ({chatRooms.length})</div>\n      <div className={styles.roomList}>\n        <ul>\n          {chatRooms.map((room, idx) => (\n            <li key={idx}>\n              <Link to={`/${room.name}`}>\n                C00{idx + 1} {room.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n      <div className={styles.addBtnBox}>\n        <button onClick={creatRoom}>新增聊天室</button>\n      </div>\n    </aside>\n  );\n};\n\nAsideBar.propTypes = {\n  creatRoom: PropTypes.func,\n  chatRooms: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string\n    })\n  )\n};\n\nexport default AsideBar;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport * as action from \"../../actions/mainAction\";\nimport AsideBar from \"../../components/AsideBar/AsideBar\";\n\nconst Aside = () => {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  const creatNewRoom = () => {\n    dispatch(action.openPopup(\"CREAT_ROOM\"));\n  };\n\n  return <AsideBar creatRoom={creatNewRoom} chatRooms={state.chatRooms} />;\n};\n\nexport default Aside;\n","import React from \"react\";\nimport styles from \"./Content.module.scss\";\nimport PropTypes from \"prop-types\";\n\nfunction sortNumber(a, b) {\n  a = new Date(a.dateObj).getTime();\n  b = new Date(b.dateObj).getTime();\n  return a - b;\n}\n\nconst MsgBox = ({ name, msg, isSelf, time }) => (\n  <div className={`${styles.msgBox} ${isSelf ? styles.isSelf : \"\"}`}>\n    <div className={styles.time}>\n      <div>{time}</div>\n    </div>\n    <div className={styles.rightBox}>\n      <div className={styles.msgTag}>{`<${isSelf ? `!--` : \"\"}${name}>`}</div>\n      <div className={styles.content}>{msg}</div>\n      <div className={styles.msgTag}>{`${isSelf ? \"--\" : `</${name}`}>`}</div>\n    </div>\n  </div>\n);\n\nconst AlertText = ({ text }) => (\n  <div className={styles.alert}>\n    <span className={styles.blue}>{`<link`}</span>\n    <span className={styles.sky}>{` rel=`}</span>\n    <span className={styles.orange}>{`\"random\"`}</span>\n    <span className={styles.sky}>{` href=`}</span>\n    <span className={styles.orange}>{`\"${text}\">`}</span>\n  </div>\n);\n\nconst Content = ({ msgs, userName, loading }) => {\n  msgs = msgs.sort(sortNumber);\n  let msgEle = null;\n\n  if (loading) {\n    msgEle = (\n      <AlertText text=\"正在讀取訊息中... 或許是目前聊天室內無任何訊息, 來搶頭香吧!\" />\n    );\n  } else {\n    msgEle = msgs.map((content, idx) => (\n      <MsgBox\n        name={content.name}\n        msg={content.msg}\n        time={content.dateToShow}\n        key={idx}\n        isSelf={content.name === userName}\n      />\n    ));\n  }\n\n  return (\n    <div className={styles.wrapper} id=\"content\">\n      <div className={styles.scrollArea}>{msgEle}</div>\n    </div>\n  );\n};\n\nContent.propTypes = {\n  msgs: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      msg: PropTypes.string,\n      dateToShow: PropTypes.string\n    })\n  ),\n  userName: PropTypes.string,\n  loading: PropTypes.bool\n};\n\nexport default React.memo(Content);\n","import React, { useRef, useEffect, useState } from \"react\";\nimport styles from \"./TextInput.module.scss\";\nimport PropTypes from \"prop-types\";\n\nconst cuteTexts = [\n  \"σ`∀´)σ\",\n  \"_(:3 」∠ )_\",\n  \"(́◉◞౪◟◉‵)\",\n  \"థ౪థ\",\n  \"(σ′▽‵)′▽‵)σ\",\n  \"｡ﾟヽ(*´∀`)ﾉﾟ｡\",\n  \"(◔౪◔)\",\n  \"(*´∀`)~♥\",\n  \"(*ﾟ∀ﾟ*)\",\n  \"σ`∀´)σ\",\n  \"(`・ω・´)\",\n  \"。･ﾟ･(つд`ﾟ)･ﾟ･\"\n];\n\nconst CuteText = ({ onClick }) => {\n  return (\n    <div className={styles.cute}>\n      {cuteTexts.map((item, idx) => (\n        <div\n          key={idx}\n          onClick={() => {\n            onClick(item);\n          }}\n        >\n          {item}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst TextInput = ({ onSubmit, onChangeMsg, onAddCute, value, user }) => {\n  const inputEl = useRef(null);\n  const submitEl = useRef(null);\n  const [isTyping, setIsTyping] = useState(false);\n  const [isCuteOpen, setCuteOpen] = useState(false);\n\n  useEffect(() => {\n    inputEl.current.focus();\n  }, []);\n\n  const handleFocus = e => {\n    setIsTyping(true);\n  };\n\n  const handleBlur = e => {\n    setIsTyping(false);\n  };\n\n  const handleCuteBtnClick = e => {\n    setCuteOpen(!isCuteOpen);\n  };\n\n  const handleAddCute = cute => {\n    setCuteOpen(false);\n    inputEl.current.focus();\n    onAddCute(cute);\n  };\n  return (\n    <div className={styles.box}>\n      <form onSubmit={onSubmit}>\n        <label>\n          <span className={`${isTyping || !!value ? \"\" : styles.animation}`}>\n            {user || \"使用者\"} >\n          </span>\n          <input\n            ref={inputEl}\n            value={value}\n            onChange={onChangeMsg}\n            className={styles.textInput}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n          />\n        </label>\n        <div className={styles.cuteBtn} onClick={handleCuteBtnClick}>\n          <span>(ﾟ∀ﾟ) </span>\n          {`<`}-用表情符號來表達你的情感吧~\n        </div>\n        <input\n          ref={submitEl}\n          type=\"submit\"\n          value=\"送出\"\n          className={styles.submit}\n        />\n        {isCuteOpen && <CuteText onClick={handleAddCute} />}\n      </form>\n    </div>\n  );\n};\n\nTextInput.propTypes = {\n  user: PropTypes.string,\n  value: PropTypes.string,\n  onSubmit: PropTypes.func,\n  onChangeMsg: PropTypes.func,\n  onAddCute: PropTypes.func\n};\n\nexport default TextInput;\n","import React from \"react\";\nimport styles from \"./TabBar.module.scss\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nconst TabBar = ({ tabs, active, onClose }) => {\n  return (\n    <div className={styles.wrapper}>\n      <ul>\n        {tabs.map((tab, idx) => (\n          <li key={idx} className={`${tab === active ? styles.active : \"\"}`}>\n            <Link to={`/${tab}`}>{tab}</Link>\n            {idx !== 0 && (\n              <div\n                className={styles.closeBtn}\n                onClick={e => {\n                  e.stopPropagation();\n                  onClose(tab);\n                }}\n              >\n                X\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nTabBar.propTypes = {\n  tabs: PropTypes.arrayOf(PropTypes.string),\n  active: PropTypes.string,\n  onClose: PropTypes.func\n};\n\nexport default TabBar;\n","import React from \"react\";\nimport styles from \"./UserOnlineBar.module.scss\";\n\nconst UserOnlineBar = () => {\n  return <div className={styles.box}></div>;\n};\n\nexport default UserOnlineBar;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport * as action from \"../../actions/mainAction\";\nimport { sendMsg } from \"../../firestoreFunction\";\nimport styles from \"./Main.module.scss\";\n\nimport Content from \"../../components/Content/Content\";\nimport TextInput from \"../../components/TextInput/TextInput\";\nimport TabBar from \"../../components/TabBar/TabBar\";\nimport UserOnlineBar from \"../../components/UserOnlineBar/UserOnlineBar\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n\n  //自動滾到最底\n  useEffect(() => {\n    const ele = document.querySelector(\"#content\");\n    ele.scrollTop = ele.scrollHeight;\n  }, [state.msg.length]);\n\n  const onSubmit = e => {\n    if (e) e.preventDefault();\n    if (state.currentMsg.trim().length === 0) return;\n\n    const postData = {\n      name: state.userName,\n      msg: state.currentMsg,\n      timeStamp: new Date()\n    };\n\n    sendMsg(state.currentRoom, postData, () => {\n      dispatch(action.changeMsg(\"\"));\n    });\n  };\n\n  const onChangeMsg = e => {\n    dispatch(action.changeMsg(e.target.value));\n  };\n\n  const onAddCute = cute => {\n    dispatch(action.changeMsg(cute, true));\n  };\n\n  const onClose = tab => {\n    dispatch(action.closeTab(tab));\n  };\n\n  return (\n    <div className={styles.rightPart}>\n      <TabBar tabs={state.tabs} active={state.currentRoom} onClose={onClose} />\n      <Content\n        msgs={state.msg}\n        userName={state.userName}\n        loading={state.loading}\n      />\n      <UserOnlineBar />\n      <TextInput\n        user={state.userName}\n        onSubmit={onSubmit}\n        onChangeMsg={onChangeMsg}\n        value={state.currentMsg}\n        onAddCute={onAddCute}\n      />\n    </div>\n  );\n};\n\nexport default Main;\n","import React, { useEffect, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nimport styles from \"./App.module.scss\";\nimport config from \"../../firestoreConfig\";\nimport { getChatMsg, getChatRooms } from \"../../firestoreFunction\";\nimport * as action from \"../../actions/mainAction\";\n\nimport Popup from \"../Popup/Popup\";\nimport AsideBar from \"../Aside/Aside\";\nimport Main from \"../Main/Main\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  const unSubscribeMsg = useRef();\n  const { roomParam } = useParams();\n\n  //連上firebase\n  useEffect(() => {\n    try {\n      firebase.initializeApp(config);\n      dispatch(action.firebaseConnected(true));\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n\n  //連上firebase後訂閱firebase事件\n  useEffect(() => {\n    if (state.isConnected) {\n      //第一次進來要做的事訂閱房間數的變化\n      getChatRooms(room => {\n        dispatch(action.setChatRooms(room, roomParam));\n      });\n    }\n  }, [state.isConnected]);\n\n  //連上firebase後訂閱firebase事件\n  useEffect(() => {\n    let room;\n    if (state.chatRooms.map(i => i.name).includes(roomParam)) {\n      room = roomParam;\n    } else {\n      room = \"大廳\";\n    }\n\n    dispatch(action.changeCurrentRoom(room));\n\n    //如果已經存在訂閱(訊息), 先清除訂閱\n    if (unSubscribeMsg.current) {\n      unSubscribeMsg.current();\n      dispatch(action.resetMsgs());\n    }\n    //更新訊息\n    dispatch(action.setLoading(true));\n    unSubscribeMsg.current = getChatMsg(room, msg => {\n      dispatch(action.setLoading(false));\n      dispatch(action.updateMsg(msg, false));\n    });\n  }, [state.currentRoom, roomParam]);\n\n  return (\n    <div className={styles.App}>\n      <AsideBar />\n      <Main />\n      <Popup />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, compose } from \"redux\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nimport toggleReducer from \"./reducers/mainReducer\";\nimport App from \"./containers/App/App\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nlet store = createStore(toggleReducer, composeEnhancers());\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router his>\n      <Switch>\n        <Route path=\"/\" exact children={<App />} />\n        <Route path=\"/:roomParam\" children={<App />} />\n      </Switch>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cover\":\"PopContent_cover__3rleX\",\"hide\":\"PopContent_hide__3xpg0\",\"contentBox\":\"PopContent_contentBox__1L1rL\",\"idType\":\"PopContent_idType__1qAzV\",\"someWord\":\"PopContent_someWord__30la2\",\"btnBox\":\"PopContent_btnBox__3MRtC\",\"idSet\":\"PopContent_idSet__3_UMF\",\"title\":\"PopContent_title__Xh6TH\",\"confirm\":\"PopContent_confirm__3KvDX\"};"],"sourceRoot":""}